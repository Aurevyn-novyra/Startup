<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CleanShot – Turn raw text into authority</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html { scroll-behavior: smooth; }
    body {
      font-family: Inter, system-ui, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, #1f2937, transparent),
        radial-gradient(800px 400px at 90% 10%, #111827, transparent),
        #030712;
      color: #e5e7eb;
    }

    .font-brutal { font-weight: 800; letter-spacing: -0.02em; }

    .glass {
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(var(--blur,16px));
      -webkit-backdrop-filter: blur(var(--blur,16px));
      border: 1px solid rgba(255,255,255,0.12);
    }

    .noise::after {
      content:"";
      position:absolute;
      inset:0;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E");
      pointer-events:none;
      mix-blend-mode:overlay;
    }

    .range { accent-color:#6366f1; }
    .pro-locked { opacity:.4; filter:grayscale(1); cursor:not-allowed; }

    .window-dots span {
      width:10px;height:10px;border-radius:9999px;display:inline-block;
    }
  </style>
</head>

<body class="antialiased">

<!-- HERO -->
<section class="text-center py-24">
  <h1 class="text-6xl font-brutal mb-4">CleanShot</h1>
  <p class="text-indigo-400 text-xl">Turn raw text into authority.</p>
  <p class="text-gray-400 mb-8">Built for people who build in public.</p>
  <a href="#app" class="px-8 py-4 rounded-2xl bg-indigo-600 hover:bg-indigo-500 font-semibold">
    Start Creating →
  </a>
</section>

<!-- APP -->
<section id="app" class="max-w-7xl mx-auto px-6 py-20 grid lg:grid-cols-2 gap-6">

<!-- CONTROLS -->
<div class="glass rounded-2xl p-6 space-y-4">
  <textarea id="textInput" rows="6" class="w-full rounded-xl bg-black/30 border border-white/10 p-4" placeholder="Write something worth sharing…"></textarea>

  <div class="flex gap-2">
    <button class="preset px-3 py-1 rounded bg-white/10" data-type="tweet">Tweet</button>
    <button class="preset px-3 py-1 rounded bg-white/10" data-type="testimonial">Testimonial</button>
    <button class="preset px-3 py-1 rounded bg-white/10" data-type="code">Code</button>
  </div>

  <div class="flex gap-4 text-sm">
    <label><input type="radio" name="mode" value="text" checked> Text</label>
    <label><input type="radio" name="mode" value="code"> Code</label>
  </div>

  <select id="fontFamily" class="w-full rounded bg-black/30 p-2">
    <option>Inter</option>
    <option>JetBrains Mono</option>
  </select>

  <input id="fontSize" type="range" min="14" max="32" value="18" class="range">
  <input id="lineHeight" type="range" min="1.2" max="2" step="0.1" value="1.5" class="range">

  <div class="grid grid-cols-2 gap-2">
    <input id="username" class="bg-black/30 p-2 rounded" placeholder="Name">
    <input id="handle" class="bg-black/30 p-2 rounded" placeholder="@handle">
  </div>

  <label><input type="checkbox" id="avatarToggle" checked> Show avatar</label>
  <input id="dateInput" class="bg-black/30 p-2 rounded">

  <div id="themes" class="grid grid-cols-2 gap-2 text-sm"></div>

  <input id="shadowDepth" type="range" min="0" max="40" value="20" class="range">
  <input id="blurIntensity" type="range" min="4" max="32" value="16" class="range">

  <label><input type="checkbox" id="noiseToggle" checked> Background noise</label>

  <button id="exportBtn" class="w-full py-3 bg-indigo-600 rounded-xl font-semibold">
    Export PNG
  </button>
</div>

<!-- PREVIEW -->
<div class="flex justify-center items-center">
  <div id="preview" class="glass noise rounded-2xl p-6 w-[420px] relative shadow-2xl">
    <div class="flex gap-2 mb-3 window-dots">
      <span style="background:#ef4444"></span>
      <span style="background:#f59e0b"></span>
      <span style="background:#10b981"></span>
    </div>

    <div class="flex items-center gap-3 mb-4">
      <div id="avatar" class="w-10 h-10 bg-indigo-500 rounded-full flex items-center justify-center font-bold">A</div>
      <div>
        <div id="previewName" class="font-semibold">Anonymous</div>
        <div id="previewHandle" class="text-sm text-gray-400">@handle</div>
      </div>
      <div id="previewDate" class="ml-auto text-xs text-gray-400"></div>
    </div>

    <pre id="previewText" class="whitespace-pre-wrap"></pre>
    <div id="watermark" class="text-xs text-gray-500 mt-4 text-right">Made with CleanShot</div>
  </div>
</div>
</section>

<!-- SCRIPT -->
<script>
/* ================= PRO STATE ================= */
let isProUser = localStorage.getItem('cleanshot_pro') === 'true';

/* ================= THEMES ================= */
const themes = {
  "Midnight Glass": { bg:"rgba(17,24,39,0.6)", color:"#e5e7eb", pro:false },
  "Soft Aurora": { bg:"linear-gradient(135deg,#312e81,#0f766e)", color:"#ecfeff", pro:false },
  "Minimal Light": { bg:"rgba(255,255,255,0.9)", color:"#020617", pro:false },
  "Neon Brutal": { bg:"linear-gradient(135deg,#7c3aed,#ec4899)", color:"#fff", pro:true }
};

const preview = document.getElementById('preview');
const previewText = document.getElementById('previewText');
const watermark = document.getElementById('watermark');

if (isProUser) watermark.style.display = 'none';

/* ================= THEME UI ================= */
const themesBox = document.getElementById('themes');
let currentTheme = Object.keys(themes)[0];

function renderThemes() {
  themesBox.innerHTML = '';
  Object.entries(themes).forEach(([name,t])=>{
    const b=document.createElement('button');
    b.textContent=name+(t.pro?' PRO':'');
    b.className='px-2 py-2 rounded bg-white/10';
    if(t.pro&&!isProUser)b.classList.add('pro-locked');
    b.onclick=()=>{
      if(t.pro&&!isProUser)return alert('Upgrade to Pro');
      currentTheme=name; applyTheme();
    };
    themesBox.appendChild(b);
  });
}

function applyTheme(){
  const t=themes[currentTheme];
  preview.style.background=t.bg;
  preview.style.color=t.color;
}

renderThemes(); applyTheme();

/* ================= LIVE BINDINGS ================= */
textInput.oninput=()=>previewText.textContent=textInput.value;
fontFamily.onchange=e=>preview.style.fontFamily=e.target.value;
fontSize.oninput=e=>previewText.style.fontSize=e.target.value+'px';
lineHeight.oninput=e=>previewText.style.lineHeight=e.target.value;
username.oninput=e=>previewName.textContent=e.target.value||'Anonymous';
handle.oninput=e=>previewHandle.textContent=e.target.value||'@handle';
avatarToggle.onchange=e=>avatar.style.display=e.target.checked?'flex':'none';
dateInput.value=new Date().toDateString(); previewDate.textContent=dateInput.value;
dateInput.oninput=e=>previewDate.textContent=e.target.value;
shadowDepth.oninput=e=>preview.style.boxShadow=`0 ${e.target.value}px ${e.target.value*2}px rgba(0,0,0,.5)`;
blurIntensity.oninput=e=>preview.style.setProperty('--blur',e.target.value+'px');
noiseToggle.onchange=e=>preview.classList.toggle('noise',e.target.checked);

/* ================= EXPORT ================= */
async function loadCanvas(){
  if(window.html2canvas)return;
  await new Promise(r=>{
    const s=document.createElement('script');
    s.src='https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js';
    s.onload=r; document.body.appendChild(s);
  });
}

exportBtn.onclick=async()=>{
  await loadCanvas();
  const c=await html2canvas(preview,{scale:isProUser?2:1,backgroundColor:null});
  const a=document.createElement('a');
  a.download='cleanshot.png';
  a.href=c.toDataURL();
  a.click();
};
</script>

</body>
</html>
